<!DOCTYPE html>
<html th:lang="${#locale.language}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="#{ui.profile.title}">Profile</title>
    <style>
        form div { margin-bottom: 10px; }
        label { display: inline-block; width: 100px; }
        input[type="text"], textarea { width: 300px; padding: 5px; }
        textarea { height: 100px; }

        .film-success { color: green; border: 1px solid green; padding: 10px; margin-bottom: 15px; }
        .film-error { color: red; border: 1px solid red; padding: 10px; margin-bottom: 15px; }
    </style>
</head>
<body>
<script th:src="@{/js/auth-worker-registration.js}"></script>

<div th:switch="${user.getRole().name()}">

    <div th:case="'SUPER_ADMIN'">
        <p th:text="#{ui.profile.welcome-superadmin}">Welcome, superadmin!</p>
        <hr>

        <div th:if="${filmAddedSuccess}" class="film-success">
            <p th:text="#{ui.film.form.success}">Фільм успішно додано!</p>
        </div>
        <div th:if="${filmAddedError}" class="film-error">
            <p th:text="#{${filmAddedError}}">Помилка: Не вдалося додати фільм.</p>
        </div>


        <h3 th:text="#{ui.film.form.heading}">Add a new film</h3>

        <form th:action="@{/profile}" method="post">
            <div>
                <label for="title" th:text="#{ui.film.form.title}">Title</label><br>
                <input type="text"
                       id="title"
                       name="title"
                       required
                       maxlength="256">
            </div>
            <div>
                <label for="description" th:text="#{ui.film.form.description}">Description</label><br>
                <textarea id="description"
                          name="description"
                          required
                          maxlength="5000"></textarea>
            </div>
            <div>
                <button type="submit" th:text="#{ui.film.form.submit}">Add Film</button>
            </div>
        </form>
    </div>

    <div th:case="'ANONYMOUS'">
        <p th:text="#{ui.profile.welcome-anonymous}">Welcome, anonymous!</p>
    </div>

    <div th:case="*">
        <p th:text="#{ui.profile.welcome-user(${user.getInfo().getUsername()})}">Welcome, user!</p>
    </div>
</div>

</body>
</html>